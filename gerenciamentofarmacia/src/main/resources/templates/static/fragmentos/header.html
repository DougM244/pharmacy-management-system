<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<body class="bg-light">
    <div th:fragment="header" class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
        <h5 class="my-0 mr-md-auto font-weight-normal">
            <a class="p-2 text-dark" id="home" href="/">Farmácia ES</a>
        </h5>
        <nav class="my-2 my-md-0 mr-md-3">
            <a class="p-2 text-dark" href="/clientes">CLIENTES</a>
            <a class="p-2 text-dark" href="/medicamentos">MEDICAMENTOS</a>
            <a class="p-2 text-dark" href="/estoques-adicionados">ESTOQUE</a>
            <a class="p-2 text-dark" href="/promocoes">PROMOÇÕES</a>
            <!-- <a class="p-2 text-dark" href="/gerentes" 
            th:if="${user.funcionario.getClass().getSimpleName().equals('Gerente')}">GERENTES</a> -->
            <a class="p-2 text-dark" href="/gerentes">GERENTES</a>
            <a class="p-2 text-dark" href="/vendedores">VENDEDORES</a>
            <a class="p-2 text-dark" href="/vendas">VENDAS</a>

            <a class="btn btn-danger ml-3" href="/login" onclick="return confirm('Você realmente deseja sair?')">Logout</a>

            <!-- <span th:text="${user.funcionario.getNome()}"></span>  -->
            <form id="logout-form" action="/logout" method="post" style="display:inline;">
                <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/> <!-- Token CSRF -->
                <button type="submit" class="btn btn-danger ml-3" onclick="confirmLogout(event)">Logout</button>
            </form>  
        </nav>
        <script>
            function confirmLogout(event) {
                event.preventDefault(); // Previne o comportamento padrão do botão
                if (confirm("Você tem certeza que deseja sair?")) {
                    document.getElementById('logout-form').submit(); // Envia o formulário de logout se o usuário confirmar
                }
            }
        </script>
    </div>
</body>
</html>
